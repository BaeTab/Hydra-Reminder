<Window x:Class="Hydra_Reminder.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Hydra Reminder" Height="520" Width="760" WindowStartupLocation="CenterScreen"
        WindowStyle="None" AllowsTransparency="True" Background="Transparent">
    <Border CornerRadius="24" Background="{StaticResource WindowGradient}" BorderBrush="#3DFFFFFF" BorderThickness="1">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="56"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Custom Title Bar -->
            <Grid Grid.Row="0" Margin="8,8,8,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Border Width="44" Height="44" CornerRadius="22" Background="#305A8FFF" BorderBrush="#50FFFFFF" BorderThickness="1" HorizontalAlignment="Left" VerticalAlignment="Center">
                    <TextBlock Text="💧" FontSize="24" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                </Border>
                <StackPanel Grid.Column="1" Orientation="Vertical" Margin="12,0,0,0" VerticalAlignment="Center">
                    <TextBlock Text="Hydra Reminder" FontSize="18" FontWeight="Bold" Foreground="White"/>
                    <TextBlock Text="설정" FontSize="12" Foreground="#CCFFFFFF"/>
                </StackPanel>
                <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,0,0">
                    <!-- Only close button retained -->
                    <Button Style="{StaticResource WindowIconButton}" Content="X" ToolTip="Close" Click="Close_Click" Background="#FF5555" BorderBrush="#FF7777"/>
                </StackPanel>
                <!-- Drag area excludes button column -->
                <Rectangle Grid.ColumnSpan="2" Fill="Transparent" MouseLeftButtonDown="DragMove_Window"/>
            </Grid>

            <!-- Content -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Hidden">
                <Grid Margin="24,8,24,24">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="300"/>
                    </Grid.ColumnDefinitions>
                    <StackPanel Grid.Column="0">
                        <Border BorderBrush="#444" Background="#252A3A" BorderThickness="1" Padding="16" CornerRadius="14" Margin="0,0,0,16">
                            <StackPanel>
                                <TextBlock Text="간격 설정" Foreground="White" FontWeight="Bold" FontSize="15" Margin="0,0,0,12"/>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                    <TextBlock Text="업무일" VerticalAlignment="Center" Foreground="#D0D6E2"/>
                                    <TextBox Width="60" Text="{Binding Settings.IntervalMinutesWeekday, UpdateSourceTrigger=PropertyChanged}" Margin="8,0,0,0"/>
                                    <TextBlock Text="분" VerticalAlignment="Center" Foreground="#8893A5" Margin="4,0,0,0"/>
                                    <TextBlock Text="주말" VerticalAlignment="Center" Foreground="#D0D6E2" Margin="16,0,0,0"/>
                                    <TextBox Width="60" Text="{Binding Settings.IntervalMinutesWeekend, UpdateSourceTrigger=PropertyChanged}" Margin="8,0,0,0"/>
                                    <TextBlock Text="분" VerticalAlignment="Center" Foreground="#8893A5" Margin="4,0,0,0"/>
                                </StackPanel>
                                <TextBlock Text="업무일 요일 선택" Foreground="#D0D6E2" Margin="0,4,0,4" FontSize="13"/>
                                <WrapPanel>
                                    <CheckBox Content="월" IsChecked="{Binding Settings.WorkdayMonday}" Foreground="White" Margin="0,0,6,6"/>
                                    <CheckBox Content="화" IsChecked="{Binding Settings.WorkdayTuesday}" Foreground="White" Margin="0,0,6,6"/>
                                    <CheckBox Content="수" IsChecked="{Binding Settings.WorkdayWednesday}" Foreground="White" Margin="0,0,6,6"/>
                                    <CheckBox Content="목" IsChecked="{Binding Settings.WorkdayThursday}" Foreground="White" Margin="0,0,6,6"/>
                                    <CheckBox Content="금" IsChecked="{Binding Settings.WorkdayFriday}" Foreground="White" Margin="0,0,6,6"/>
                                    <CheckBox Content="토" IsChecked="{Binding Settings.WorkdaySaturday}" Foreground="White" Margin="0,0,6,6"/>
                                    <CheckBox Content="일" IsChecked="{Binding Settings.WorkdaySunday}" Foreground="White" Margin="0,0,6,6"/>
                                </WrapPanel>
                            </StackPanel>
                        </Border>
                        <Border BorderBrush="#444" Background="#252A3A" BorderThickness="1" Padding="16" CornerRadius="14" Margin="0,0,0,16">
                            <StackPanel>
                                <TextBlock Text="기타" Foreground="White" FontWeight="Bold" FontSize="15" Margin="0,0,0,12"/>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                    <CheckBox Content="위젯 활성" IsChecked="{Binding Settings.EnableWidget}" Foreground="White" Margin="0,0,18,0"/>
                                    <CheckBox Content="사운드" IsChecked="{Binding Settings.SoundEnabled}" Foreground="White" Margin="0,0,18,0"/>
                                    <CheckBox Content="시작시 최소화" IsChecked="{Binding Settings.StartMinimized}" Foreground="White"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                        <Border BorderBrush="#444" Background="#252A3A" BorderThickness="1" Padding="16" CornerRadius="14" Margin="0,0,0,16">
                            <StackPanel>
                                <TextBlock Text="오늘 마신 횟수" Foreground="White" FontWeight="Bold" FontSize="15" Margin="0,0,0,12"/>
                                <TextBlock Text="{Binding Settings.TodayDrinkCount}" FontSize="40" FontWeight="Bold" Foreground="{StaticResource AccentBrush}"/>
                            </StackPanel>
                        </Border>
                        <Button Content="저장" Width="160" Height="42" Command="{Binding SaveCommand}" Style="{StaticResource ToastButtonStyle}"/>
                    </StackPanel>

                    <!-- Side panel placeholder (future stats) -->
                    <Border Grid.Column="1" Background="#1E2331" BorderBrush="#333" BorderThickness="1" CornerRadius="14" Padding="16" Margin="24,0,0,0">
                        <StackPanel>
                            <TextBlock Text="Quick Info" Foreground="White" FontWeight="Bold" FontSize="15"/>
                            <TextBlock Text="마신 기록은 리포트 창에서 더 자세히 볼 수 있어요." TextWrapping="Wrap" Margin="0,6,0,0" Foreground="#BBD0E6" FontSize="12"/>
                            <TextBlock Text="Tip: 트레이 아이콘에서 간격을 바로 변경할 수 있습니다." TextWrapping="Wrap" Margin="0,12,0,0" Foreground="#8893A5" FontSize="11"/>
                        </StackPanel>
                    </Border>
                </Grid>
            </ScrollViewer>
        </Grid>
    </Border>
</Window>
